!function(){var a=angular.module("eaApp",["ngRoute","ngAnimate"]);a.config(["$routeProvider","$locationProvider",function(a,b){b.html5Mode(!0),a.when("/home",{templateUrl:"templates/carousel.html",controller:"CarouselCtrl"}).when("/series",{templateUrl:"templates/series-list.html",controller:"SeriesListCtrl"}).when("/series/:seriesname",{templateUrl:"templates/series-detail.html",controller:"SeriesDetailCtrl"}).when("/search/",{templateUrl:"templates/series-search.html",controller:"SeriesSearchCtrl"}).otherwise({redirectTo:"/home"})}])}(),function(){angular.module("eaApp").controller("CarouselCtrl",function(a,b,c,d){a.series=[],a.currentSeries=0,a.backgroundStyle={};var e=c(function(){for(var b=a.series.length-1;b>=0;b--)if(a.series[b].id==a.currentSeries){b++,b==a.series.length&&(b=0),a.selectSeries(a.series[b].id);break}},5e3);d.getTopSeries().success(function(b){a.series=b,void 0!==b[0]&&a.selectSeries(b[0].id)}).error(function(){}),a.selectSeries=function(b){a.currentSeries=b;for(var c=a.series.length-1;c>=0;c--)if(a.series[c].id==a.currentSeries){a.backgroundStyle={"background-image":"url(../img/fanart/"+a.series[c].fanart_image+")"};break}},a.isSelected=function(b){return b==a.currentSeries},a.stopTimer=function(){angular.isDefined(e)&&(c.cancel(e),e=void 0)},a.$on("$destroy",function(){a.stopTimer()})})}(),function(){angular.module("eaApp").controller("SeriesDetailCtrl",["$scope","$routeParams",function(a,b){a.param=b.seriesname}])}(),function(){angular.module("eaApp").controller("SeriesListCtrl",["$scope",function(){}])}(),angular.module("eaApp").controller("SeriesSearchCtrl",function(a,b){function c(c){console.log("search series"),b.searchSeries(c).success(function(b){a.series=b}).error(function(){})}a.search=function(){c(a.query)}});